<!doctype html><html lang="ru"><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no"><title>Расписание</title><link rel="dns-prefetch" href="https://schedule.npi-tu.ru/"><link rel="preconnect" href="https://schedule.npi-tu.ru/" crossorigin><link rel="preload" href="https://schedule.npi-tu.ru/api/v1/groups/-" as="fetch" crossorigin><link rel="canonical" href="https://altwine.github.io/university-schedule/"><meta name="theme-color" content="#000000"><meta name="description" content="Удобное расписание занятий"><meta property="og:title" content="Расписание"><meta property="og:description" content="Удобное расписание занятий"><meta property="og:type" content="website"><meta property="og:url" content="https://altwine.github.io/university-schedule/"><script type="application/ld+json">{
		"@context": "https://schema.org",
		"@type": "WebApplication",
		"name": "Расписание",
		"description": "Удобное расписание занятий"
	}</script><style>*{box-sizing:border-box}body,html{margin:0;padding:0;height:100%}body{display:flex;flex-direction:column;background-color:#fff;overflow:hidden;font-weight:600;font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,sans-serif}header{display:flex;justify-content:space-between;margin-bottom:8px;padding:0 12px 0 12px;box-shadow:0 5px 10px 2px rgba(34,60,80,.1)}.menu-container{display:flex;gap:4px}.title{margin:0;padding:12px 0 12px 0;font-size:24px;font-weight:700}.actions-container{display:flex;align-items:center;gap:8px}.action-button{display:flex;cursor:pointer;border:#acacac 1px solid;border-radius:8px;align-items:center;justify-content:center;width:40px;height:40px}main{display:flex;flex:1;flex-direction:column;height:min-content}.week-navigator{width:100%;display:flex;justify-content:space-around}.day-selector{display:flex;flex:1;align-items:center;flex-direction:column;cursor:pointer;gap:4px;padding:2px 0 2px 0;user-select:none}#day-name{color:#656565}#day-number{border-radius:8px;font-weight:700;padding:10px 16px 10px 16px}#day-number.selected{background-color:#1e90ff;color:#fff}.schedule-container{display:flex;flex:1;flex-direction:column}.class-container{padding:6px;display:flex;gap:8px;flex:1}.class-date{display:flex;width:40px;flex-direction:column;color:#656565;justify-content:space-between;user-select:none}.dinner-line-container{display:none;align-items:center;user-select:none;gap:8px;padding:4px 6px 4px 6px}.dinner-line{background-color:red;height:2px;border:0;margin:0;width:100%}.divider-line{background-color:#acacac;width:100%;margin:0;border:0;height:1px}.dinner-text{color:#656565;font-size:15px}#class-info-container{border-radius:4px;gap:8px;padding:6px;display:flex;flex:1;width:100%;transition:opacity ease-out .15s}.class-info{display:flex;flex-direction:column}#class-lecturer{color:#656565;font-size:14px}.pillar{border-radius:4px;width:4px}#colors-container{display:flex;flex-wrap:wrap;gap:4px;padding:6px;user-select:none}.color-badge{padding:6px;border-radius:4px}.skeletal{background:linear-gradient(90deg,#c8c8c8 25%,#e0e0e0 50%,#c8c8c8 75%);background-size:200% 100%;animation:shimmer 1.5s infinite}@keyframes shimmer{from{background-position:-200% 0}to{background-position:200% 0}}.color-badge.skeletal:first-child{width:182px;height:33px}.color-badge.skeletal:nth-child(2){width:177px;height:33px}.color-badge.skeletal:nth-child(3){width:69px;height:33px}#no-internet-notice{display:none;padding:6px;justify-content:center;background-color:#e3e634;user-select:none}.group-selector{align-self:center;bottom:8px;position:absolute;border:#acacac 1px solid;border-radius:8px;width:96%;max-height:80%;height:80%;overflow-y:hidden;display:flex;flex-direction:column;background-color:#fff;box-shadow:0 5px 10px 2px rgba(34,60,80,.1);animation:slide-out .2s normal}@keyframes slide-out{from{bottom:-100vh}to{bottom:8px}}.group-selector-body{overflow-y:scroll;height:97%}.group-selector.hidden{display:none}.group-selector-element{display:flex;padding:8px;cursor:pointer}.group-selector-search{display:flex;align-items:center;padding:0 0 0 14px;gap:8px}.search-field{width:100%;height:48px;border:0;outline:0}</style><div id="no-internet-notice"><span>Нет интернета, сайт работает в офлайн-режиме!</span></div><header class="header"><div class="menu-container"><h1 id="title" class="title">Загрузка...</h1></div><div class="actions-container"><div id="disable-dinner-button" class="action-button"><svg width="28" height="28" viewBox="0 0 512 512"><path d="M480 96h-92l9-36 39-13c8-2 13-11 10-19a16 16 0 00-20-11l-47 16a16 16 0 00-11 11l-12 52H224c-8 0-16 7-16 15a16 16 0 0016 17h3l1 9a8 8 0 008 7c39 0 74 11 100 32a122 122 0 0135 42 123 123 0 0110 30 8 8 0 003 4 72 72 0 0127 87 8 8 0 000 5 96 96 0 015 32c0 22-8 44-21 60a80 80 0 01-29 22 8 8 0 00-4 4 108 108 0 01-18 30 3 3 0 002 4h49a48 48 0 0048-44l34-324h3a16 16 0 0016-17c0-8-8-15-16-15M109 320a24 24 0 0117 7l15 16a4 4 0 006 0l15-16a24 24 0 0117-7h197a8 8 0 008-8 40 40 0 00-32-39c-1-30-13-55-36-72-20-16-48-25-80-25h-72c-68 0-114 39-116 97a40 40 0 00-32 39 8 8 0 008 8Zm77 32a8 8 0 00-6 2l-22 22a20 20 0 01-28 0l-22-22a8 8 0 00-6-2H33a16 16 0 00-16 13 65 65 0 00-1 11c0 31 21 56 47 56 3 15 9 29 17 39 14 16 33 25 54 25h132c21 0 40-9 54-25 8-10 14-24 17-39 26 0 47-25 47-56a65 65 0 00-1-11 16 16 0 00-16-13"/></svg></div><div id="today-button" class="action-button"><svg width="28" height="28" viewBox="0 0 512 512"><path d="M416 64h-16V48.45c0-8.61-6.62-16-15.23-16.43A16 16 0 00368 48v16H144V48.45c0-8.61-6.62-16-15.23-16.43A16 16 0 00112 48v16H96a64 64 0 00-64 64v12a4 4 0 004 4h440a4 4 0 004-4v-12a64 64 0 00-64-64m61 112H35a3 3 0 00-3 3v237a64 64 0 0064 64h320a64 64 0 0064-64V179a3 3 0 00-3-3M224 307.43A28.57 28.57 0 01195.43 336h-70.86A28.57 28.57 0 0196 307.43v-70.86A28.57 28.57 0 01124.57 208h70.86A28.57 28.57 0 01224 236.57"/></svg></div><div id="select-group-button" class="action-button"><svg width="24" height="24"><path d="M16 13c2.33 0 7 1.17 7 3.5V19H17V16.5c0-1.48-.81-2.61-1.97-3.45.35-.03.68-.05.97-.05M8 13c2.33 0 7 1.17 7 3.5V19H1V16.5C1 14.17 5.67 13 8 13m0-2C6.34 11 5 9.66 5 8S6.34 5 8 5s2.99 1.34 2.99 3S9.66 11 8 11m8 0c-1.66 0-3-1.34-3-3s1.34-3 3-3 2.99 1.34 2.99 3-1.33 3-2.99 3"/></svg></div></div></header><main class="main-content"><nav class="week-navigator"><div class="day-selector" data-day="0"><span id="day-name">??</span> <span id="day-number">??</span></div><div class="day-selector" data-day="1"><span id="day-name">??</span> <span id="day-number">??</span></div><div class="day-selector" data-day="2"><span id="day-name">??</span> <span id="day-number">??</span></div><div class="day-selector" data-day="3"><span id="day-name">??</span> <span id="day-number">??</span></div><div class="day-selector" data-day="4"><span id="day-name">??</span> <span id="day-number">??</span></div><div class="day-selector" data-day="5"><span id="day-name">??</span> <span id="day-number">??</span></div><div class="day-selector" data-day="6"><span id="day-name">??</span> <span id="day-number">??</span></div></nav><div class="schedule-container"><div class="class-container"><div class="class-date"><div>09:00</div><div>09:45</div><div>10:30</div></div><div id="class-info-container"><div class="pillar"></div><div class="class-info"><span id="class-title"></span> <span id="class-lecturer"></span></div></div></div><div class="class-container"><div class="class-date"><div>10:45</div><div>11:30</div><div>12:15</div></div><div id="class-info-container"><div class="pillar"></div><div class="class-info"><span id="class-title"></span> <span id="class-lecturer"></span></div></div></div><div class="dinner-line-container"><span class="dinner-text">Обед</span><hr class="dinner-line"></div><div class="class-container"><div class="class-date"><div>13:15</div><div>14:00</div><div>14:45</div></div><div id="class-info-container"><div class="pillar"></div><div class="class-info"><span id="class-title"></span> <span id="class-lecturer"></span></div></div></div><div class="class-container"><div class="class-date"><div>15:00</div><div>15:45</div><div>16:30</div></div><div id="class-info-container"><div class="pillar"></div><div class="class-info"><span id="class-title"></span> <span id="class-lecturer"></span></div></div></div><div class="class-container"><div class="class-date"><div>16:45</div><div>17:30</div><div>18:15</div></div><div id="class-info-container"><div class="pillar"></div><div class="class-info"><span id="class-title"></span> <span id="class-lecturer"></span></div></div></div><div class="class-container"><div class="class-date"><div>18:30</div><div>19:15</div><div>20:00</div></div><div id="class-info-container"><div class="pillar"></div><div class="class-info"><span id="class-title"></span> <span id="class-lecturer"></span></div></div></div></div><div id="colors-container"><div class="color-badge skeletal"></div><div class="color-badge skeletal"></div><div class="color-badge skeletal"></div><div class="color-badge"></div><div class="color-badge"></div><div class="color-badge"></div><div class="color-badge"></div><div class="color-badge"></div><div class="color-badge"></div></div></main><div class="group-selector hidden"><search class="group-selector-search"><svg width="16" height="16"><path d="M1.997 6.452c0-2.486 2.02-4.5 4.5-4.5 2.485 0 4.5 2.02 4.5 4.5 0 2.485-2.02 4.5-4.5 4.5-2.486 0-4.5-2.02-4.5-4.5m10.03 3.468A6.46 6.46 0 0 0 13 6.5C13 2.917 10.09 0 6.5 0 2.917 0 0 2.91 0 6.5 0 10.083 2.91 13 6.5 13a6.47 6.47 0 0 0 3.425-.976L14 16l2-2.05"/></svg> <input class="search-field" placeholder="Название или номер группы..."></search><hr class="divider-line"><div class="group-selector-body"></div></div><script>const CLASS_TYPES={"КП":{name:"Курсовой проект",color:"#FFFFFF",second:"#C6C6C6"},"Л/ЛР":{name:"Лекция/лабораторная",color:"#F0FBFF",second:"#BAE9FA"},"Л/П":{name:"Лекция/практика",color:"#F0FBFF",second:"#A0E5FE"},"ЛАБ":{name:"Лабораторная работа",color:"#E7E8F8",second:"#A8AEFD"},"ЛЕК":{name:"Лекция",color:"#E5FFD5",second:"#C0FF99"},"П/ЛР":{name:"Практика/лабораторная",color:"#F0FBFF",second:"#AFE7FC"},"ПР":{name:"Практическое занятие",color:"#D5F6FF",second:"#7DE3FF"},"ПЭКЗ":{name:"Переэкзаменовка",color:"#FFFBF0",second:"#FFDF89"},"СЕМ":{name:"Семинар",color:"#FFFBF0",second:"#FFE9AD"}},WEEK_DAYS=["вс","пн","вт","ср","чт","пт","сб"],YEAR_MONTH=["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],SEARCH_PARAMS=new URLSearchParams(window.location.search),MAIN_CONTENT=document.querySelector(".main-content"),DAY_SELECTOR_ELEMENTS=document.querySelectorAll(".day-selector"),CLASS_CONTAINER_ELEMENTS=document.querySelectorAll(".class-container"),DINNER_LINE_CONTAINER_ELEMENT=document.querySelector(".dinner-line-container"),DISABLE_DINNER_ELEMENT=document.getElementById("disable-dinner-button"),TITLE_ELEMENT=document.getElementById("title"),TODAY_BUTTON_ELEMENT=document.getElementById("today-button"),SELECT_GROUP_ELEMENT=document.getElementById("select-group-button"),COLOR_BADGE_ELEMENTS=Array.from(document.querySelectorAll(".color-badge")),SEARCH_FIELD_ELEMENT=document.querySelector(".search-field"),GROUP_SELECTOR_ELEMENT=document.querySelector(".group-selector"),NO_INTERNET_NOTICE_ELEMENT=document.getElementById("no-internet-notice"),groupFetch=fetch("https://schedule.npi-tu.ru/api/v1/groups/-"),changeableDate=new Date,realDate=new Date,INITIAL_YEAR=SEARCH_PARAMS.get("year")??"2",INITIAL_FACULTY=SEARCH_PARAMS.get("faculty")??"2",INITIAL_GROUP=SEARCH_PARAMS.get("group")??"РПИа";let currentScheduleUrl=`https://schedule.npi-tu.ru/api/v2/faculties/${INITIAL_FACULTY}/years/${INITIAL_YEAR}/groups/${INITIAL_GROUP}/schedule`,isClickAllowed=!0;function updateDinnerLine(){DINNER_LINE_CONTAINER_ELEMENT.style.display=localStorage.getItem("dinnerLineState")??"none"}function updateTitle(){TITLE_ELEMENT.textContent=`${YEAR_MONTH[changeableDate.getMonth()]} ${changeableDate.getFullYear()}`}function updateLabels(e){const t=new Set;e.classes.forEach(e=>t.add(e.type)),COLOR_BADGE_ELEMENTS.forEach((e,t)=>{e.textContent="",e.style.backgroundColor="transparent",t<3&&e.classList.remove("skeletal")});Array.from(t).sort((e,t)=>CLASS_TYPES[e].name.length<CLASS_TYPES[t].name.length).forEach((e,t)=>{const a=COLOR_BADGE_ELEMENTS[t];a.textContent=CLASS_TYPES[e].name,a.style.backgroundColor=CLASS_TYPES[e].color})}updateDinnerLine(),updateTitle(),(async()=>{let e=null,t=null,a=null,n=null;MAIN_CONTENT.addEventListener("touchstart",e=>a=e.changedTouches[0].screenX),MAIN_CONTENT.addEventListener("touchend",e=>{n=e.changedTouches[0].screenX,Math.abs(a-n)<=60||(n<a?changeableDate.setDate(changeableDate.getDate()+1):n>a&&changeableDate.setDate(changeableDate.getDate()-1),o(changeableDate,currentScheduleUrl))}),DISABLE_DINNER_ELEMENT.addEventListener("click",()=>{isClickAllowed&&(isClickAllowed=!1,setTimeout(()=>isClickAllowed=!0,25),localStorage.setItem("dinnerLineState","flex"!==localStorage.getItem("dinnerLineState")?"flex":"none"),updateDinnerLine())}),TODAY_BUTTON_ELEMENT.addEventListener("click",()=>{isClickAllowed&&(isClickAllowed=!1,setTimeout(()=>isClickAllowed=!0,25),changeableDate.setTime(realDate.getTime()),o(changeableDate,currentScheduleUrl))});let l=null;async function o(a,n){if(updateTitle(),updateDinnerLine(),!t||e!==n)try{currentScheduleUrl=n,e=currentScheduleUrl;const[a]=await Promise.all([fetch(n)]);t=await a.json(),t.classes=t.classes.filter(e=>"-"!==e.type),localStorage.setItem("cachedSchedule",JSON.stringify(t))}catch(e){NO_INTERNET_NOTICE_ELEMENT.style.display="flex";const a=localStorage.getItem("cachedSchedule");if(!a)return;t=JSON.parse(a)}updateLabels(t),document.title=`Расписание ${t.group}`;const l=new Date(a);l.setHours(0,0,0,0);const o=Array.from({length:7},(e,t)=>{const n=new Date(a);return n.setDate(a.getDate()+t-3),n}),c=t.classes.filter(e=>e.day==l.getDay()&&e.dates.find(e=>e===a.toLocaleDateString("en-CA")));DAY_SELECTOR_ELEMENTS.forEach((e,t)=>{const a=e.querySelector("#day-name"),n=e.querySelector("#day-number"),c=o[t];a.textContent=WEEK_DAYS[c.getDay()],n.textContent=c.getDate(),c.getDate()==l.getDate()&&n.classList.add("selected")}),CLASS_CONTAINER_ELEMENTS.forEach((e,t)=>{const n=c.find(e=>e.class==t+1),l=e.querySelector("#class-info-container"),o=e.querySelector(".pillar"),r=e.querySelector(".class-info"),s=r.querySelector("#class-title"),E=r.querySelector("#class-lecturer");if(!n?.dates?.find?.(e=>e===a.toLocaleDateString("en-CA")))return s.textContent="",E.textContent="",l.style.border="none",void(l.style.opacity="0");const d=n.discipline.replace(/ \(\d+ час\)/,"");s.textContent=`${n.auditorium} ${d}`,E.textContent=n.lecturer,l.style.border="#d1d1d1 1px solid",l.style.backgroundColor=CLASS_TYPES[n.type].color,o.style.backgroundColor=CLASS_TYPES[n.type].second,l.style.opacity="1"})}SELECT_GROUP_ELEMENT.addEventListener("click",async()=>{if(!isClickAllowed)return;isClickAllowed=!1,setTimeout(()=>isClickAllowed=!0,25);const e=GROUP_SELECTOR_ELEMENT.classList;if(!l){const t=await groupFetch;l=await t.json();const a=Object.keys(l),n=document.querySelector(".group-selector-body");a.forEach(e=>{const t=document.createElement("div");t.className="group-selector-element",t.dataset.faculty=l[e].faculty,t.dataset.year=l[e].year,t.dataset.group=l[e].group,t.textContent=e,n.appendChild(t)}),SEARCH_FIELD_ELEMENT.addEventListener("input",()=>{for(;n.firstChild;)n.firstChild.remove();a.filter(e=>e.toLowerCase().includes(SEARCH_FIELD_ELEMENT.value.toLowerCase())).forEach(e=>{const t=document.createElement("div");t.className="group-selector-element",t.dataset.faculty=l[e].faculty,t.dataset.year=l[e].year,t.dataset.group=l[e].group,t.textContent=e,n.appendChild(t)})}),document.addEventListener("click",t=>{if("group-selector-element"!==t?.target?.className)return;const{faculty:a,year:l,group:c}=t.target.dataset,r=`https://schedule.npi-tu.ru/api/v2/faculties/${a}/years/${l}/groups/${c}/schedule`;localStorage.removeItem("cachedSchedule"),o(changeableDate,r),SEARCH_PARAMS.set("faculty",a),SEARCH_PARAMS.set("year",l),SEARCH_PARAMS.set("group",c),window.history.pushState("","",`${window.location.origin}${window.location.pathname}?${SEARCH_PARAMS.toString()}`),SEARCH_FIELD_ELEMENT.value="",n.scrollTop=0,e.contains("hidden")||e.add("hidden")})}e.contains("hidden")?e.remove("hidden"):e.add("hidden")}),DAY_SELECTOR_ELEMENTS.forEach((e,t)=>{e.addEventListener("click",()=>{isClickAllowed&&(isClickAllowed=!1,setTimeout(()=>isClickAllowed=!0,25),changeableDate.setDate(changeableDate.getDate()+t-3),o(changeableDate,currentScheduleUrl))})}),o(changeableDate,currentScheduleUrl)})()</script>